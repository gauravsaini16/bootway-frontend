(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{63:(e,s,t)=>{"use strict";var a=t(7260);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},1169:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2529:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2987:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3556:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155),r=t(4269);let i={applied:{label:"Applied",className:"bg-info/10 text-info border-info/20"},"under-review":{label:"Under Review",className:"bg-warning/10 text-warning border-warning/20"},screening:{label:"Screening",className:"bg-warning/10 text-warning border-warning/20"},shortlisted:{label:"Shortlisted",className:"bg-primary/10 text-primary border-primary/20"},interview:{label:"Interview",className:"bg-accent/10 text-accent border-accent/20"},selected:{label:"Selected",className:"bg-success/10 text-success border-success/20"},rejected:{label:"Rejected",className:"bg-destructive/10 text-destructive border-destructive/20"},offer:{label:"Offer Sent",className:"bg-success/10 text-success border-success/20"},onboarding:{label:"Onboarding",className:"bg-primary/10 text-primary border-primary/20"},active:{label:"Active",className:"bg-success/10 text-success border-success/20"},inactive:{label:"Inactive",className:"bg-muted text-muted-foreground border-border"}},l=e=>{let{status:s,className:t}=e,l=i[s];return(0,a.jsx)("span",{className:(0,r.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",l.className,t),children:l.label})}},3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var a=t(5155),r=t(2115),i=t(2467),l=t(3101),n=t(4269);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-background text-primary font-semibold hover:bg-background/90 shadow-lg hover:shadow-xl",accent:"bg-accent text-accent-foreground font-semibold shadow-md hover:shadow-lg hover:bg-accent/90",success:"bg-success text-success-foreground hover:bg-success/90"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:d=!1,...o}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(c({variant:r,size:l,className:t})),ref:s,...o})});d.displayName="Button"},5380:(e,s,t)=>{"use strict";t.d(s,{OJ:()=>c,Z2:()=>d});var a=t(5155),r=t(2115),i=t(2328),l=t(8979);let n=(0,r.createContext)(void 0);function c(e){let{children:s}=e,t=(0,i.As)(),r={user:t.user||null,isLoading:t.isLoading,error:t.error,isAuthenticated:t.isAuthenticated,isAdminOrHR:(0,l.Ds)(t.user||null),login:async(e,s)=>{await t.login({email:e,password:s})},register:async e=>{await t.register(e)},updatePassword:async e=>{await t.updatePassword(e)},logout:t.logout,loginLoading:t.loginLoading,registerLoading:t.registerLoading,updatePasswordLoading:t.updatePasswordLoading};return(0,a.jsx)(n.Provider,{value:r,children:s})}function d(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuthContext must be used within an AuthProvider");return e}},6485:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6624:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var a=t(5155),r=t(2115);let i=e=>{let{children:s,className:t=""}=e,[i,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{l(!0)},[]),i)?(0,a.jsx)("main",{className:"min-h-screen ".concat(t),children:s}):null}},6948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>n,wL:()=>u});var a=t(5155),r=t(2115),i=t(4269);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...r})});u.displayName="CardFooter"},7389:(e,s,t)=>{Promise.resolve().then(t.bind(t,8472))},8472:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(5155),r=t(2619),i=t.n(r),l=t(9633);let n=(0,t(1847).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var c=t(6485),d=t(2529),o=t(1169),u=t(2987),m=t(3998),h=t(6948),x=t(6624),g=t(4269);let f={default:"bg-card",primary:"bg-primary/5 border-primary/20",success:"bg-success/5 border-success/20",warning:"bg-warning/5 border-warning/20",info:"bg-info/5 border-info/20"},p={default:"bg-muted text-muted-foreground",primary:"bg-primary/10 text-primary",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",info:"bg-info/10 text-info"},v=e=>{let{title:s,value:t,icon:r,trend:i,variant:l="default",className:n}=e;return(0,a.jsx)(h.Zp,{className:(0,g.cn)("border",f[l],n),children:(0,a.jsx)(h.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:s}),(0,a.jsx)("p",{className:"text-3xl font-bold text-foreground",children:t}),i&&(0,a.jsxs)("p",{className:(0,g.cn)("text-sm font-medium",i.isPositive?"text-success":"text-destructive"),children:[i.isPositive?"+":"-",Math.abs(i.value),"% from last month"]})]}),(0,a.jsx)("div",{className:(0,g.cn)("p-3 rounded-xl",p[l]),children:r})]})})})};var b=t(3556),j=t(2328),N=t(5380),y=t(63),w=t(2115);function A(){let{isAuthenticated:e,isLoading:s,user:t,logout:r}=(0,N.Z2)(),g=(0,y.useRouter)(),{data:f=[]}=(0,j.HW)({}),{data:p=[]}=(0,j.yw)({status:"scheduled",limit:3}),{data:A=[]}=(0,j.kp)({role:"candidate"});if((0,w.useEffect)(()=>{console.log("Admin Dashboard - Auth state:",{isAuthenticated:e,isLoading:s,user:null==t?void 0:t.email,userRole:null==t?void 0:t.role}),s||e||(console.log("Admin Dashboard - Redirecting to login..."),g.push("/admin/login"))},[e,s,g,t]),s)return(0,a.jsx)(x.default,{children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})})});if(!e)return null;let k={totalApplications:f.length,shortlisted:f.filter(e=>"shortlisted"===e.status).length,interviews:p.filter(e=>"scheduled"===e.status).length,selected:f.filter(e=>"selected"===e.status).length,activeEmployees:A.filter(e=>e.isActive).length},C=f.slice(0,5),R=p.filter(e=>"scheduled"===e.status).slice(0,3);return(0,a.jsxs)(x.default,{children:[(0,a.jsx)("section",{className:"bg-hero-gradient py-8 md:py-10",children:(0,a.jsx)("div",{className:"container-custom",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"HR Dashboard"}),(0,a.jsxs)("p",{className:"text-white/80",children:["Welcome back, ",(null==t?void 0:t.fullName)||"Admin","! Here's an overview of your recruitment pipeline."]})]}),(0,a.jsx)(m.$,{variant:"outline",onClick:()=>{r(),setTimeout(()=>{window.location.href="/admin/login"},100)},className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:"Logout"})]})})}),(0,a.jsx)("section",{className:"section-padding bg-muted/30",children:(0,a.jsxs)("div",{className:"container-custom space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsx)(v,{title:"Total Applications",value:k.totalApplications,icon:(0,a.jsx)(l.A,{className:"w-6 h-6"}),variant:"primary",trend:{value:12,isPositive:!0}}),(0,a.jsx)(v,{title:"Shortlisted",value:k.shortlisted,icon:(0,a.jsx)(n,{className:"w-6 h-6"}),variant:"info"}),(0,a.jsx)(v,{title:"Interviews",value:k.interviews,icon:(0,a.jsx)(c.A,{className:"w-6 h-6"}),variant:"warning"}),(0,a.jsx)(v,{title:"Selected",value:k.selected,icon:(0,a.jsx)(d.A,{className:"w-6 h-6"}),variant:"success"}),(0,a.jsx)(v,{title:"Active Employees",value:k.activeEmployees,icon:(0,a.jsx)(o.A,{className:"w-6 h-6"}),variant:"default"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:"Recent Applications"}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(i(),{href:"/admin/applications",className:"flex items-center",children:["View All",(0,a.jsx)(u.A,{className:"w-4 h-4 ml-1"})]})})]}),(0,a.jsx)(h.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:C.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-foreground truncate",children:e.candidateName}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:(null==(s=e.job)?void 0:s.title)||"Job Title"})]}),(0,a.jsx)(b.A,{status:e.status})]},e._id)})})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:"Upcoming Interviews"}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(i(),{href:"/admin/interviews",className:"flex items-center",children:["View All",(0,a.jsx)(u.A,{className:"w-4 h-4 ml-1"})]})})]}),(0,a.jsx)(h.Wu,{children:R.length>0?(0,a.jsx)("div",{className:"space-y-4",children:R.map(e=>{var s,t;return(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/50",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"w-6 h-6 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-foreground truncate",children:(null==(s=e.candidateId)?void 0:s.fullName)||(null==(t=e.applicationId)?void 0:t.candidateName)||"Candidate Name"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[new Date(e.scheduledDate).toLocaleDateString("en-IN",{day:"numeric",month:"short"})," ","at ",new Date(e.scheduledDate).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsx)(m.$,{variant:"outline",size:"sm",children:"Join"})]},e._id)})}):(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No upcoming interviews"})})]})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{children:(0,a.jsx)(h.ZB,{className:"text-lg",children:"Quick Actions"})}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(m.$,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:(0,a.jsxs)(i(),{href:"/admin/jobs",className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Post New Job"})]})}),(0,a.jsx)(m.$,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:(0,a.jsxs)(i(),{href:"/admin/applications",className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Review Applications"})]})}),(0,a.jsx)(m.$,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:(0,a.jsxs)(i(),{href:"/admin/interviews",className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Schedule Interview"})]})}),(0,a.jsx)(m.$,{variant:"outline",className:"h-auto py-4 flex-col gap-2",asChild:!0,children:(0,a.jsxs)(i(),{href:"/admin/employees",className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(n,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"View Employees"})]})})]})})]})]})})]})}},9633:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])}},e=>{e.O(0,[545,619,946,316,441,255,358],()=>e(e.s=7389)),_N_E=e.O()}]);